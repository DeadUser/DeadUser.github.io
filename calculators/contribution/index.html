<!DOCTYPE html>
<html>

<head>
    <title>Contribution</title>
    <link rel="stylesheet" type="text/css" href="bootstrap.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <script data-ad-client="ca-pub-7753948746567334" async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <a class="navbar-brand" href="https:\\edomozh.github.io">Home</a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor01"
            aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="navbar-collapse collapse" id="navbarColor01">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="..\contribution">Contribution</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="..\mortgage">Mortgage</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container t-2 mt-4">
        <div class="row w-100">
            <div class="col-md-8 order-md-2">
                <div class="form-group">
                    <label class="form-control-label" for="txt_step">Monthly cash deposits</label>
                    <input id="txt_step" type="number" class="form-control" value="20000" onchange="calculate()">
                    <div class="btn-group mt-2" role="group" aria-label="First group">
                        <button type="button" class="btn btn-primary" onclick="increment('txt_step', 1000)">+1k</button>
                        <button type="button" class="btn btn-primary"
                            onclick="increment('txt_step', -1000)">-1k</button>
                    </div>
                    <div class="btn-group mt-2" role="group" aria-label="First group">
                        <button type="button" class="btn btn-primary" onclick="increment('txt_step', 5000)">+5k</button>
                        <button type="button" class="btn btn-primary"
                            onclick="increment('txt_step', -5000)">-5k</button>
                    </div>
                    <div class="btn-group mt-2" role="group" aria-label="First group">
                        <button type="button" class="btn btn-primary"
                            onclick="increment('txt_step', 10000)">+10k</button>
                        <button type="button" class="btn btn-primary"
                            onclick="increment('txt_step', -10000)">-10k</button>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="txt_step">Percent in year</label>
                    <input id="txt_percent" type="number" class="form-control" value="10" onchange="calculate()">
                    <input type="range" class="custom-range" id="txt_percent_range" min="0" max="25"
                        onchange="setValue('txt_percent', this.value)">
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="txt_step">Years</label>
                    <input id="txt_years" type="number" class="form-control" value="5" onchange="calculate()">
                    <div class="btn-group mt-2" role="group" aria-label="First group">
                        <button type="button" class="btn btn-primary" onclick="increment('txt_years', 1)">+</button>
                        <button type="button" class="btn btn-primary" onclick="increment('txt_years', -1)">-</button>
                    </div>
                </div>

                <h2 class="m-2"><small id="investments"></small></h2>
                <h2 class="m-2"><small id="contribution"></small></h2>
            </div>

            <!-- Ad block -->

        </div>
    </div>
</body>

<script>
    var formatter = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 });

    function setValue(element, value) {
        document.getElementById(element).value = value;
        calculate();
    }

    function increment(element, add) {
        var txt_step = Number(document.getElementById(element).value);
        txt_step += add;
        document.getElementById(element).value = txt_step;
        calculate();
    }

    function calculate() {
        var step = Number(document.getElementById('txt_step').value);
        var percent = Number(document.getElementById('txt_percent').value) / 100;
        var years = Number(document.getElementById('txt_years').value);

        var contribution = 0;
        for (var i = 0; i < (years * 12); i++) {
            contribution += (contribution * (percent / 12)) + step;
        }

        document.getElementById('investments').innerHTML = 'Investments: ' + formatter.format(String(Math.trunc(step * (years * 12))));
        document.getElementById('contribution').innerHTML = 'Contribution: ' + formatter.format(String(Math.trunc(contribution)));
    }

    calculate();
</script>

</html>